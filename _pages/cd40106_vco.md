---
permalink: /cd40106_vco/
layout: single
title: "CD40106 VCO"
category: "VCO"
toc: true
toc_label: "ToC"
toc_icon: "cog"
header:
  overlay_color: "#5e616c"
  overlay_image: /assets/images/CD40106_VCO-top.png
---

![CD40106 VCO schematic](/assets/images/CD40106_VCO-top.png)

:warning: **WIP WIP WIP WIP WIP** :warning: 

Saw-core VCO based on Moritz Klein version, with additionnal wave shaping capabilities.

Saw, Square, Sine and triangle wave output.

V/Oct, PWM and FM CV inputs. 

Hard Sync input. 

Octave switch and pot for fine control for each octave.

Octave switch and additionnal wave shapping taken fron Ray Wilson on [MFOS](https://musicfromouterspace.com/index.php?MAINTAB=HOME&VPW=1024&VPH=789)

Extension connector (back of board) to connect to the SubPhatty extender (Sub octave extender, WIP).

## Module Specs

Eurorack standard, 3U 10HP

|   rail   |      Power         |
|----------|:------------------:|
|   +12V   |        37mA        |
|----------|:------------------:|
|   -12V   |        31mA        |
|----------|:------------------:|
|    5V    |         0mA        |

## Schematics

![CD40106 VCO schematic](/assets/images/CD40106_VCO--Schematic.svg)
![CD40106 VCO schematic-wave converter](/assets/images/CD40106_VCO-Wave_Converter.svg)
![CD40106 VCO schematic-octave switch](/assets/images/CD40106_VCO-Octave_switch.svg)
![CD40106 VCO schematic-Power](/assets/images/CD40106_VCO-Power.svg)

## BoM

[See bom](/assets/bom/CD40106_VCO_V2.0--iBoM.html)

You can donwload the bom in excel format [here](https://github.com/BleepSound/cd40106_vco/releases/download/V2.0/CD40106_VCO_V2.0--BoM.xlsx)


## Build Informations

Uses an SMD LM13700 because the DIP ones are not produced anymore.

Regular build, I use ceramic capacitors but you can use film/polyester.

Polyester capacitor for the saw core. 

:warning: When building modules, always do it in this order (from smallest component to highest):
- diodes
- resistors
- DIP chips
- capacitors (film/ceramic)
- Transistors
- Electrolytic capacitors

To solder the headers, place them and place both PCBs in their final position before fully soldering the pin headers/sockets.

For the next parts, always place them without soldering them on: 
- jacks, pots and switches that go throught the front panel

Once placed, put the front panel in place, then fasten all components to it. Once this is done, you can solder all the remaining components.

For the rotary switch, you have pin  markings on it. make them correspond to the pin marking on the PCB, then you can solder it. 

![marking octave switch picture]()

To connect the switch board to the main PCB, use wires and follow the marking on both PCBs. 

![PCB marking picture]()

## Calibration

### 5V reference voltage

This module uses a 5V voltage reference for the octave switch. To make sure we have the proper reference, you need to make sure we have a proper 5.00V setup internaly. 
Use a multimeter at Test point 3 and use the trimmer lvl_Trim2 to read exactly 5.00V here. 

![location of trimmer and test point picture]()

### Sin wave approximation

To get the Sin wave out of this VCO, a litle something called non-linear distortion is done to the triangle wave. You have 3 trimmers on the back of the module to setup that distortion properly. 

![location of trimmers picture]()

You are going to need an oscilloscope and your ears. Plug your oscilloscope to the sine output of the VCO. Refer to the below figures to setup the best possible sine wave for the VCO. 

Sine_bias_trim1, adjust for top to bottom symmetry and for least sine distortion.

![Sine bias figure]()

Sine_Shape_Trim1, adjust between too square and too triangle. 

![Sine shape figure]()

Sine_Levl_Trim1, adjust for +/-5V

![Sine level figure]()

### Tuning

And the final step, tuning the VCO, you are going to need a digital tuner (or your ears if you have perfect pitch!). 

Set your octave switch to low C (0V) and move your fine pot so you get a low C on your tuner. 

Once done, set your octave switch to high C (5V), and you want to hear a high C here, but usually, you will get something that's completely off the mark. Use the trimmer lvl_Trim1 to get to a high C. This is trail & error, so it might take you a few tries. 

![location of trimmer picture]()

And that's it, the VCO is now fully calibratedr and tuned !

## Images

![3D CD40106 VCO(front)](/assets/images/CD40106_VCO-3D_top.png)

![3D CD40106 VCO(back)](/assets/images/CD40106_VCO-3D_bottom.png)

![3D CD40106 VCO(iso)](/assets/images/CD40106_VCO-3D_top30deg.png)

## Version

### V1.0
**Do Not Use**
- First prototype, loads of issues, ranging from wrong value resistors, to wrong orientation on transistors. 
- Wrong hole size on front panel for octave switch

### V2.0
 - Fix issues identified on v1.0
 - Update front panel
 - Add calibration info to website

## Download

Follow this link if you want to dowload the latest version of gerber files, schematic, kicad files...

:arrow_down: [**Download**](https://github.com/BleepSound/cd40106_vco/releases)
